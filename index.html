<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <!--

        First draft:
        create an array that contains three items: rock, paper, and scissors
        create a variable called computerSelection to store the computer's choice
        create a function called computerPlay that randomly selects one of the items from the array and returns the result
        store the computerPlay selection in computerSelection
        create a variable to store user input called playerSelection
        create a function called round that takes computerSelection and playerSelection as parameters and plays a single round
        use if and else if statements to declare relationships between options
        return a string that identifies the winner

        Revised:
        create an array of options
        create variables to store computer and user selections and scores
        create a function to generate a random number between 0 and 2
        create a function computerPlay to select an item from the array of options using the random number function
            and store the value in the computerSelection variable and return the value
        create a function userPlay with a prompt for value of userSelection and return userSelection
        create a function playRound that takes computerSelection and userSelection as arguments and increases 
            computer or user score and returns a string identifying the winner of the round
        create a game function that loops 5 times and runs the playRound function and returns a string identifying 
            the winner at the end of the 5 loops

    -->
    
    <script>
        // array of options
        const options = ["rock", "paper", "scissors"];

        // pre-declared empty variables for storing play selections
        let computerSelection;
        let playerSelection;

        // score declarations, starting at 0
        let computerScore = 0;
        let playerScore = 0;
        

        // function to generate a random number
        function random(mn, mx) {
            return Math.floor(Math.random() * (mx - mn));
        }

        // function to randomly select an item from the array and store it as computerSelection, uses the random function, first parameter of playRound function
        function computerPlay() {
            computerSelection = options[random(0, 3)];
            return computerSelection;
        }

        // function to determine user selection, second parameter of playRound function
        function userPlay() {

            playerSelection = prompt("Rock, Paper, Scissors...!");
            return playerSelection;

        }
        

        //single round function, takes the computerPlay and userPlay functions as arguments
        function playRound(comp, player) {

                if (comp.toLowerCase() == "rock" && player.toLowerCase() == "scissors") {
                    computerScore++;
                    return "Computer chose Rock, which beats your Scissors! You lose!";                 
                } else if (comp.toLowerCase() == "scissors" && player.toLowerCase() == "paper") {
                    computerScore++;
                    return "Computer chose Scissors, which beats your Paper! You lose!";
                } else if (comp.toLowerCase() == "paper" && player.toLowerCase() == "rock") {
                    computerScore++;
                    return "Computer chose Paper, which beats your Rock! You lose!";                    
                } else if (comp.toLowerCase() == "rock" && player.toLowerCase() == "paper") {
                    playerScore++;
                    return "Your Paper beats the computer's Rock! You win!";                   
                } else if (comp.toLowerCase() == "paper" && player.toLowerCase() == "scissors") {
                    playerScore++;
                    return "Your Scissors beats the computer's Paper! You win!";
                } else if (comp.toLowerCase() == "scissors" && player.toLowerCase() == "rock") {
                    playerScore++;
                    return "Your Rock beats the computer's Scissors! You win!";
                } else if (comp.toLowerCase() == player.toLowerCase()) {
                    return "The computer also chose " + playerSelection + ". " + "It's a tie!";
                }
        }

        // the game function, which loops 5 times and runs the playRound function each time, running results to the console
        function game() {
            for (let i = 0; i < 5; i++) {
                console.log(playRound(computerPlay(), userPlay()));
            }

            if (playerScore > computerScore) {
                console.log("Congratulations! You won " + playerScore + " to " + computerScore + "!");
            } else if (computerScore > playerScore) {
                console.log("The computer won " + computerScore + " to " + playerScore + " this time!");
            } else {
                console.log("It's a tie! " + playerScore + " to " + computerScore + "! Let's go for a tie-breaker!");
            }
        }

        game();

    </script>
    
</body>
</html>